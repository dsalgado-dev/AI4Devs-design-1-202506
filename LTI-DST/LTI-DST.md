### **Lean Canvas: LTI - El ATS Inteligente**

A continuaci√≥n, el desglose para un sistema de seguimiento de candidatos que no solo gestiona, sino que potencia y predice el √©xito en la contrataci√≥n, basado en un an√°lisis de mercado para identificar oportunidades clave.

---

#### **1. Problemas Principales que Enfrenta el Cliente**

Los ATS actuales son vistos m√°s como bases de datos que como herramientas estrat√©gicas. Los problemas clave a resolver son:

* **Sobrecarga Operativa y Manual:** Los reclutadores invierten hasta un 70% de su tiempo en tareas repetitivas (revisi√≥n de CVs, agendamiento, comunicaci√≥n b√°sica) en lugar de en la interacci√≥n humana y evaluaci√≥n estrat√©gica.
* **Mala Calidad en la Selecci√≥n (Sesgos y Acierto bajo):** La selecci√≥n basada en palabras clave es superficial. Los sesgos inconscientes (de g√©nero, origen, etc.) se filtran en el proceso, y es dif√≠cil predecir qu√© candidato tendr√° √©xito real en el puesto.
* **Experiencia del Candidato P√©sima ("El Agujero Negro"):** Los candidatos aplican y raramente reciben feedback. Los formularios son largos, no son *mobile-friendly* y el proceso es opaco, da√±ando la marca empleadora de la empresa.
* **Desconexi√≥n entre Reclutadores y Hiring Managers:** La colaboraci√≥n es ineficiente, basada en emails y hojas de c√°lculo externas al ATS. No hay una fuente √∫nica de verdad para evaluar y comparar candidatos de forma objetiva.

---

#### **2. Segmentos de Clientes a los que se Dirige**

Para maximizar el impacto y la adopci√≥n inicial, nos enfocaremos en:

* **Early Adopters: Empresas de tecnolog√≠a y startups en fase de crecimiento (Scale-ups)** de 50 a 500 empleados.
    * *¬øPor qu√©?* Valoran la eficiencia, la tecnolog√≠a, la calidad del talento y la marca empleadora. Est√°n dispuestas a invertir en herramientas que les den una ventaja competitiva y est√°n frustradas con la rigidez de los sistemas tradicionales.

* **Mercado Secundario: Departamentos de reclutamiento especializados dentro de grandes corporaciones** (ej. equipos de reclutamiento de perfiles tecnol√≥gicos o de alta demanda) y **agencias de reclutamiento modernas**.
    * *¬øPor qu√©?* Buscan optimizar nichos de alta complejidad y valoran las herramientas que les permiten diferenciarse por la calidad y velocidad de su servicio.

---

#### **3. Propuesta de Valor √önica**

> **"El primer ATS que utiliza inteligencia predictiva para identificar y contratar al mejor talento, mientras automatiza el 90% del trabajo operativo. Contrata m√°s r√°pido, con mayor acierto y enamora a tus candidatos en el proceso."**

---

#### **4. Soluciones que Ofrece el Producto**

M√°s all√° de las funcionalidades b√°sicas (creaci√≥n de empleos, publicaci√≥n, etc., como se ve en la imagen), LTI ofrecer√° una soluci√≥n integral centrada en la inteligencia y la experiencia:

* **Asistente de IA para Reclutadores:** Un motor de IA que realiza el primer filtro de CVs, no por palabras clave, sino por compatibilidad de habilidades, experiencia y potencial de √©xito. Adem√°s, gestiona la comunicaci√≥n inicial y el agendamiento de forma autom√°tica.
* **Plataforma de Colaboraci√≥n Unificada:** Un espacio central donde reclutadores y Hiring Managers pueden ver perfiles enriquecidos (con an√°lisis de la IA), dejar feedback estructurado en *scorecards*, comunicarse en tiempo real y realizar entrevistas (con transcripci√≥n y an√°lisis de sentimiento opcional).
* **Portal de Candidato Transparente y Gamificado:** Una experiencia de aplicaci√≥n *mobile-first* que se completa en minutos. El candidato puede ver el estado de su postulaci√≥n en tiempo real (como si rastreara un paquete), recibe comunicaci√≥n proactiva y puede realizar pruebas gamificadas que son m√°s atractivas que los tests tradicionales.
* **Analytics Predictivos y Accionables:** Un dashboard que no solo muestra m√©tricas pasadas, sino que predice el *Time-to-Hire*, identifica los canales de sourcing m√°s efectivos para cada rol y sugiere atributos clave de los candidatos que hist√≥ricamente han tenido √©xito en la empresa.

---

#### **5. M√©tricas Clave de √âxito**

Para medir el √©xito, nos centraremos en m√©tricas que reflejen la adopci√≥n, el valor entregado y la viabilidad del negocio:

* **M√©tricas de Valor:**
    * **Reducci√≥n del Tiempo de Contrataci√≥n (Time-to-Hire):** Medida en d√≠as.
    * **Tasa de Aceptaci√≥n de Ofertas (Offer Acceptance Rate):** Un indicador directo de la calidad del proceso y del candidato.
    * **Puntuaci√≥n de Satisfacci√≥n del Candidato (CSAT / NPS del Candidato):** Demuestra la calidad de la experiencia.
* **M√©tricas de Negocio:**
    * **Ingresos Mensuales Recurrentes (MRR):** El pulso financiero del modelo SaaS.
    * **Coste de Adquisici√≥n de Cliente (CAC) y Valor de Vida del Cliente (LTV):** Para asegurar la rentabilidad.
    * **Tasa de Abandono (Churn Rate):** Para medir la retenci√≥n y satisfacci√≥n del cliente.

---

#### **6. Ventaja Diferencial (Unfair Advantage)**

Nuestra ventaja competitiva, dif√≠cil de copiar, se basar√° en:

* **Algoritmo Predictivo Propio:** El modelo de Machine Learning que correlaciona los atributos de un candidato con el √©xito a largo plazo en una empresa ser√° nuestro activo m√°s valioso. Se vuelve m√°s inteligente con cada cliente, creando un foso competitivo (*data moat*).
* **API Robusta y Ecosistema de Integraciones:** Una API pensada para desarrolladores que permita integraciones profundas con cualquier otro sistema de HR (HRIS, Onboarding, etc.), convirtiendo a LTI en el cerebro central del ecosistema de talento.
* **Marca Centrada en la Experiencia:** Ser reconocidos como *el* ATS que por fin respeta el tiempo de los candidatos y potencia a los reclutadores. Esta reputaci√≥n es un im√°n de talento y clientes.

---

#### **7. Canales de Adquisici√≥n y Comunicaci√≥n**

Utilizaremos una estrategia multicanal para llegar a nuestros segmentos:

* **Marketing de Contenidos (Inbound):** Creaci√≥n de blogs, whitepapers y webinars sobre el futuro del reclutamiento, IA en RRHH y c√≥mo construir una marca empleadora fuerte. Optimizaci√≥n SEO para t√©rminos clave ("ATS inteligente", "software de reclutamiento con IA", etc.).
* **Venta Directa (Outbound):** Un equipo de ventas especializado que contactar√° a los Jefes de Talento y RRHH en nuestro segmento objetivo (scale-ups de tecnolog√≠a).
* **Alianzas Estrat√©gicas:** Partnerships con fondos de Venture Capital para ofrecer LTI a las empresas de su portafolio, e integraciones con plataformas de HRIS complementarias.
* **Comunidad y Eventos:** Participar y organizar eventos (online y presenciales) para profesionales de RRHH, creando una comunidad en torno a la innovaci√≥n en la adquisici√≥n de talento.

---

#### **8. Fuentes de Ingresos Esperadas**

El modelo de negocio ser√° principalmente **Software as a Service (SaaS)** con distintos niveles para adaptarse al crecimiento del cliente:

* **Plan Crecimiento (Growth):** Un paquete para empresas de hasta 150 empleados. Incluye todas las funcionalidades de automatizaci√≥n y colaboraci√≥n. Precio por usuario (reclutador)/mes.
* **Plan Pro:** Para empresas de m√°s de 150 empleados. A√±ade los m√≥dulos de anal√≠tica predictiva, tests gamificados avanzados e integraciones premium.
* **Plan Enterprise:** Para grandes corporaciones con necesidades personalizadas, soporte dedicado (*Dedicated Account Manager*), y SLAs (Acuerdos de Nivel de Servicio) espec√≠ficos.
* **Add-ons:** M√≥dulos opcionales de pago por uso, como la realizaci√≥n de video-entrevistas con an√°lisis de IA o la compra de paquetes de multiposting en portales de empleo premium.

---

#### **9. Estructura de Costos**

Los costos principales se dividir√°n en tres √°reas clave:

* **Desarrollo de Producto y Tecnolog√≠a (El mayor coste):**
    * Salarios del equipo de ingenier√≠a, data science, producto y dise√±o.
    * Costos de infraestructura en la nube (ej. AWS, Google Cloud) para el alojamiento, bases de datos y entrenamiento de modelos de IA.
    * Licencias de software y APIs de terceros.
* **Ventas y Marketing (Sales & Marketing):**
    * Salarios y comisiones del equipo de ventas y marketing.
    * Inversi√≥n en publicidad digital (LinkedIn, Google Ads).
    * Costos de creaci√≥n de contenido y participaci√≥n en eventos.
* **Operaciones y Administraci√≥n (G&A):**
    * Salarios del equipo de soporte al cliente y administraci√≥n.
    * Costos generales: oficinas (si aplica), servicios legales y contables.
    
    

-----

### **Casos de Uso Principales del ATS de LTI**

-----

### **Caso de Uso 1: El Reclutador Inteligente**

Este caso de uso se centra en c√≥mo el reclutador utiliza la plataforma para automatizar las tareas operativas y centrarse en la estrategia, aprovechando la IA desde el primer momento.

  * **T√≠tulo:** `Publicaci√≥n de Vacante y Gesti√≥n Automatizada de Candidatos`
  * **Actores:** Reclutador, Asistente de IA (Sistema LTI), Candidatos (externos).
  * **Objetivo:** Publicar una nueva vacante y obtener una lista corta de los candidatos m√°s calificados de forma autom√°tica, reduciendo el tiempo de revisi√≥n manual a casi cero.

<!-- end list -->

```mermaid
sequenceDiagram
    participant R as Reclutador
    participant ATS as LTI ATS
    participant IA as Asistente de IA
    participant C as Candidatos

    R->>ATS: 1. Crea y configura la vacante (Ej: "Desarrollador Senior").
    activate ATS
    ATS->>ATS: 2. Publica la vacante en portales de empleo, web y redes sociales.
    C->>ATS: 3. Postulan a la vacante desde diferentes canales.
    ATS->>IA: 4. Env√≠a nuevas postulaciones para an√°lisis.
    activate IA
    IA-->>IA: 5. Analiza CVs, califica compatibilidad (habilidades, experiencia, potencial) y detecta perfiles de alto potencial.
    IA-->>C: 6. Env√≠a comunicaci√≥n autom√°tica (confirmaci√≥n de recibido o descarte temprano con feedback constructivo).
    IA-->>ATS: 7. Devuelve lista de candidatos priorizada con un "Fit Score".
    deactivate IA
    ATS-->>R: 8. Presenta en el dashboard la lista corta de candidatos recomendados con insights de la IA.
    deactivate ATS
    R->>R: 9. Revisa perfiles enriquecidos y decide a qui√©n avanzar.
```

-----

### **Caso de Uso 2: Colaboraci√≥n sin Fricci√≥n**

Este flujo detalla la interacci√≥n clave y a menudo rota entre el reclutador y el manager que necesita cubrir la vacante (Hiring Manager), eliminando la necesidad de emails y hojas de c√°lculo.

  * **T√≠tulo:** `Evaluaci√≥n Colaborativa entre Reclutador y Hiring Manager`
  * **Actores:** Reclutador, Hiring Manager.
  * **Objetivo:** Facilitar una toma de decisi√≥n r√°pida, objetiva y centralizada sobre un candidato, manteniendo toda la informaci√≥n y comunicaci√≥n en un √∫nico lugar.

<!-- end list -->

```mermaid
sequenceDiagram
    participant R as Reclutador
    participant ATS as LTI ATS
    participant HM as Hiring Manager

    R->>ATS: 1. Selecciona un candidato de la lista corta y lo comparte con el Hiring Manager para su revisi√≥n.
    activate ATS
    ATS->>HM: 2. Notifica al Hiring Manager (v√≠a email, Slack, etc.) con un enlace directo al perfil del candidato.
    HM->>ATS: 3. Accede a la plataforma y visualiza el perfil completo: CV, insights de la IA y un scorecard digital.
    HM-->>ATS: 4. Completa el scorecard (califica competencias) y a√±ade comentarios espec√≠ficos.
    ATS-->>R: 5. Notifica al Reclutador sobre el feedback recibido.
    deactivate ATS
    R->>ATS: 6. Revisa el feedback y la puntuaci√≥n del Hiring Manager.
    activate ATS
    R->>HM: 7. Inicia una conversaci√≥n dentro del ATS si hay dudas ("@HiringManager, ¬øqu√© opinas de su experiencia en el proyecto X?").
    HM->>R: 8. Responde dentro de la misma plataforma.
    R-->>ATS: 9. Decide el siguiente paso (Ej: Agendar Entrevista) basado en el acuerdo.
    deactivate ATS
```

-----

### **Caso de Uso 3: La Experiencia del Candidato**

Este es quiz√°s el caso de uso m√°s disruptivo, ya que cambia el paradigma de la postulaci√≥n de ser un "agujero negro" a una experiencia transparente, respetuosa y moderna.

  * **T√≠tulo:** `Postulaci√≥n y Seguimiento Transparente del Proceso`
  * **Actores:** Candidato, Asistente de IA (Sistema LTI).
  * **Objetivo:** Ofrecer al candidato una experiencia de postulaci√≥n simple, r√°pida y con visibilidad total sobre el estado de su proceso, fortaleciendo la marca empleadora.

<!-- end list -->

```mermaid
sequenceDiagram
    participant C as Candidato
    participant Portal as Portal de Empleo/Web
    participant ATS as LTI ATS
    participant IA as Asistente de IA

    C->>Portal: 1. Descubre la oferta y hace clic en "Postular".
    Portal->>ATS: 2. Redirige al formulario de postulaci√≥n de LTI.
    C->>ATS: 3. Completa el formulario mobile-first en ~3 minutos (sube CV o usa perfil de LinkedIn).
    activate ATS
    ATS->>IA: 4. Recibe la postulaci√≥n y la procesa.
    activate IA
    IA-->>C: 5. Env√≠a email de confirmaci√≥n instant√°neo con un enlace √∫nico a su "Portal del Candidato".
    deactivate IA
    C->>ATS: 6. Ingresa a su portal personal.
    ATS-->>C: 7. Muestra el estado de su postulaci√≥n en una l√≠nea de tiempo visual (Ej: üîµ Recibido -> üü° En Revisi√≥n -> ‚ö™ Pendiente Entrevista).
    ATS-->>C: 8. Env√≠a notificaciones proactivas a medida que su estatus cambia (ej. "¬°Buenas noticias! El equipo de reclutamiento ha avanzado tu perfil a la siguiente etapa.").
    deactivate ATS
    C->>C: 9. Siente control y respeto durante todo el proceso, independientemente del resultado final.
```    

-----

### **Modelo de Datos para el ATS de LTI**

A continuaci√≥n, se describen las entidades principales, sus atributos y las relaciones que las conectan.

#### **1. Entidades y Atributos**

Cada entidad representa una tabla en la base de datos. Se especifica el nombre del atributo, su tipo de dato y si es una clave primaria (PK) o for√°nea (FK).

-----

**Entidad: `Companies`**

  * Almacena la informaci√≥n de las empresas clientes que utilizan el ATS.
      * `company_id` (PK, UUID)
      * `name` (String)
      * `website` (String, Opcional)
      * `industry` (String, Opcional)
      * `logo_url` (String, Opcional)
      * `subscription_plan` (Enum: 'GROWTH', 'PRO', 'ENTERPRISE')
      * `created_at` (DateTime)

**Entidad: `Users`**

  * Representa a los usuarios dentro de una empresa cliente (Reclutadores, Hiring Managers).
      * `user_id` (PK, UUID)
      * `company_id` (FK, -\> Companies)
      * `email` (String, Unique)
      * `password_hash` (String)
      * `first_name` (String)
      * `last_name` (String)
      * `role` (Enum: 'RECRUITER', 'HIRING\_MANAGER', 'ADMIN')
      * `created_at` (DateTime)
      * `last_login_at` (DateTime)

**Entidad: `Candidates`**

  * Contiene la informaci√≥n personal y de contacto de cada persona que postula. Es una tabla centralizada para evitar duplicados.
      * `candidate_id` (PK, UUID)
      * `email` (String, Unique)
      * `first_name` (String)
      * `last_name` (String)
      * `phone_number` (String, Opcional)
      * `linkedin_profile_url` (String, Opcional)
      * `portfolio_url` (String, Opcional)
      * `created_at` (DateTime)

**Entidad: `Jobs`**

  * Define cada puesto de trabajo o vacante creada por una empresa.
      * `job_id` (PK, UUID)
      * `company_id` (FK, -\> Companies)
      * `created_by_user_id` (FK, -\> Users)
      * `title` (String)
      * `description` (Text)
      * `location` (String)
      * `status` (Enum: 'DRAFT', 'OPEN', 'CLOSED', 'ARCHIVED')
      * `created_at` (DateTime)
      * `closed_at` (DateTime, Opcional)

**Entidad: `Applications`**

  * Es la entidad de uni√≥n clave que conecta a un `Candidate` con un `Job`. Representa una postulaci√≥n espec√≠fica.
      * `application_id` (PK, UUID)
      * `job_id` (FK, -\> Jobs)
      * `candidate_id` (FK, -\> Candidates)
      * `status` (Enum: 'RECEIVED', 'AI\_REVIEW', 'HUMAN\_REVIEW', 'ASSESSMENT', 'INTERVIEW', 'OFFER', 'HIRED', 'REJECTED')
      * `source` (String) - *Ej: 'LinkedIn', 'Web Corporativa'*
      * `ai_fit_score` (Float, Opcional) - *Puntuaci√≥n de 0 a 1 generada por la IA.*
      * `applied_at` (DateTime)
      * `updated_at` (DateTime)

**Entidad: `Documents`**

  * Almacena los archivos adjuntos a una postulaci√≥n.
      * `document_id` (PK, UUID)
      * `application_id` (FK, -\> Applications)
      * `file_url` (String) - *URL a un servicio de almacenamiento como S3.*
      * `document_type` (Enum: 'CV', 'COVER\_LETTER', 'PORTFOLIO', 'OTHER')
      * `uploaded_at` (DateTime)

**Entidad: `AI_Analyses`**

  * Guarda los resultados estructurados del an√°lisis de la IA para cada postulaci√≥n.
      * `analysis_id` (PK, UUID)
      * `application_id` (FK, -\> Applications)
      * `extracted_skills` (JSON) - *Ej: `['Python', 'SQL', 'Project Management']`*
      * `summary` (Text) - *Resumen en lenguaje natural generado por la IA.*
      * `raw_output` (JSON) - *Respuesta completa del modelo de IA para depuraci√≥n.*
      * `generated_at` (DateTime)

**Entidad: `Interviews`**

  * Registra cada entrevista agendada dentro del proceso.
      * `interview_id` (PK, UUID)
      * `application_id` (FK, -\> Applications)
      * `scheduled_by_user_id` (FK, -\> Users)
      * `start_time` (DateTime)
      * `end_time` (DateTime)
      * `location_or_video_link` (String)
      * `status` (Enum: 'SCHEDULED', 'COMPLETED', 'CANCELED')

**Entidad: `Interview_Attendees`**

  * Tabla de uni√≥n para gestionar los m√∫ltiples entrevistadores (`Users`) en una `Interview`.
      * `interview_id` (PK, FK, -\> Interviews)
      * `user_id` (PK, FK, -\> Users)

**Entidad: `Feedback`**

  * Centraliza todo el feedback (comentarios y calificaciones) de los `Users` sobre una `Application`.
      * `feedback_id` (PK, UUID)
      * `application_id` (FK, -\> Applications)
      * `user_id` (FK, -\> Users)
      * `content` (Text) - *Comentario cualitativo.*
      * `rating` (Integer, 1-5) - *Calificaci√≥n general.*
      * `created_at` (DateTime)

**Entidad: `Communications`**

  * Registra toda la comunicaci√≥n enviada a los candidatos, garantizando la trazabilidad.
      * `communication_id` (PK, UUID)
      * `application_id` (FK, -\> Applications)
      * `sender_info` (String) - *Ej: 'Asistente de IA' o 'Nombre del Reclutador'.*
      * `template_type` (Enum: 'CONFIRMATION', 'REJECTION', 'INTERVIEW\_INVITE', 'CUSTOM')
      * `body` (Text)
      * `sent_at` (DateTime)

-----

#### **2. Relaciones Clave del Modelo**

  * **Compa√±√≠a y sus Usuarios/Vacantes:** Una `Company` tiene muchos `Users` y muchas `Jobs`. Esta es una relaci√≥n **Uno a Muchos**.
  * **Postulaci√≥n (El Coraz√≥n del Sistema):** La tabla `Applications` es el centro de todo.
      * Un `Job` puede tener muchas `Applications`.
      * Un `Candidate` puede tener muchas `Applications` (para diferentes vacantes).
      * Esta relaci√≥n **Muchos a Muchos** entre `Jobs` y `Candidates` se resuelve a trav√©s de la tabla `Applications`.
  * **Datos de una Postulaci√≥n:** Cada `Application` tiene una √∫nica `AI_Analysis` (o podr√≠a tener varias si se re-analiza), pero puede tener m√∫ltiples `Documents`, `Interviews`, `Feedback` y `Communications`. Todas estas son relaciones **Uno a Muchos** desde `Applications`.
  * **Colaboraci√≥n en Entrevistas:** Una `Interview` puede tener varios `Interview_Attendees` (entrevistadores), modelado con una tabla de uni√≥n.
  * **Centralizaci√≥n del Candidato:** Al tener una tabla `Candidates` separada, se crea un perfil √∫nico para cada persona. Si el mismo candidato postula a 5 trabajos, solo existir√° una entrada en `Candidates` y 5 en `Applications`, evitando la redundancia de datos personales.

-----

#### **3. Diagrama de Relaciones (Simplificado)**

```mermaid
erDiagram
    Companies ||--o{ Users : "has"
    Companies ||--o{ Jobs : "has"
    Users ||--o{ Jobs : "creates"

    Jobs ||--o{ Applications : "receives"
    Candidates ||--o{ Applications : "submits"

    Applications ||--|{ AI_Analyses : "is analyzed by"
    Applications ||--o{ Documents : "contains"
    Applications ||--o{ Interviews : "leads to"
    Applications ||--o{ Feedback : "receives"
    Applications ||--o{ Communications : "triggers"

    Interviews ||--o{ Interview_Attendees : "involves"
    Users ||--o{ Interview_Attendees : "attends"
    Users ||--o{ Feedback : "provides"

```

Este modelo de datos proporciona una base s√≥lida para desarrollar todas las funcionalidades descritas, desde la automatizaci√≥n con IA hasta una experiencia de usuario colaborativa y transparente. Est√° dise√±ado pensando en la escalabilidad y la separaci√≥n de responsabilidades entre los distintos m√≥dulos del sistema.


-----

### **Dise√±o del Sistema a Alto Nivel: LTI ATS**

#### **Explicaci√≥n de la Arquitectura**

El dise√±o se basa en una **arquitectura de microservicios distribuida y orientada a eventos**. Esta elecci√≥n permite que cada componente del sistema (ej. gesti√≥n de vacantes, an√°lisis de IA, notificaciones) se desarrolle, despliegue y escale de forma independiente. Esto reduce la complejidad y acelera la entrega de nuevas funcionalidades.

La plataforma ser√° **nativa de la nube** (Cloud-Native), utilizando servicios gestionados de un proveedor como AWS (Amazon Web Services) para minimizar la carga operativa y maximizar la fiabilidad.

**Capas Principales:**

1.  **Capa de Presentaci√≥n (Frontend):**

      * **Aplicaci√≥n Web para Empresas (SPA):** Una *Single-Page Application* (construida con React, Vue o Angular) para reclutadores y *Hiring Managers*. Es la interfaz principal para gestionar vacantes, visualizar candidatos y colaborar. Se distribuye globalmente a trav√©s de una CDN (como AWS CloudFront) para una baja latencia.
      * **Portal del Candidato:** Una aplicaci√≥n web ligera y 100% *responsive* (mobile-first), optimizada para que el proceso de postulaci√≥n y seguimiento sea r√°pido y sencillo.
      * **Integraciones de Terceros (API Consumers):** Otros sistemas de RRHH (como HRIS o sistemas de n√≥mina) que se conectan a nuestra plataforma a trav√©s de la API p√∫blica.

2.  **Capa de L√≥gica de Negocio (Backend):**

      * **API Gateway:** Es la √∫nica puerta de entrada para todas las peticiones de los clientes. Se encarga del enrutamiento de peticiones, la autenticaci√≥n (validando tokens JWT), la seguridad y el *rate limiting*.
      * **Microservicios Principales:** Cada servicio tiene una responsabilidad √∫nica y se comunica con los dem√°s a trav√©s de APIs REST/gRPC y eventos as√≠ncronos.
          * **Servicio de Identidad:** Gestiona el registro, inicio de sesi√≥n y roles de los usuarios.
          * **Servicio de Vacantes y Compa√±√≠as:** L√≥gica de negocio para crear, gestionar y publicar las ofertas de trabajo y los perfiles de empresa.
          * **Servicio de Postulaciones:** Orquesta el flujo de recepci√≥n de nuevas postulaciones.
          * **Servicio de Colaboraci√≥n:** Gestiona el feedback, las entrevistas y los *scorecards*.
          * **Servicio de Notificaciones:** Env√≠a todos los emails, SMS y notificaciones push de la plataforma de manera centralizada.

3.  **Capa de Inteligencia Artificial (AI Pipeline):**

      * Este es el coraz√≥n de la ventaja competitiva de LTI. Funciona de manera as√≠ncrona para no bloquear la experiencia del usuario.
      * **Orquestador de IA:** Un servicio que se activa cuando se recibe una nueva postulaci√≥n.
      * **Procesador de Documentos:** Un *worker* que extrae el texto de los CVs (PDF, DocX) y lo estructura.
      * **Servicio de Inferencia de ML:** Expone los modelos de Machine Learning (ej. extracci√≥n de habilidades, c√°lculo del *Fit Score*) a trav√©s de una API. Este servicio puede autoescalar seg√∫n la demanda.
      * **Pipeline de Entrenamiento (Offline):** Un proceso separado que se ejecuta peri√≥dicamente para re-entrenar y mejorar los modelos de ML con los nuevos datos anonimizados, asegurando que la inteligencia del sistema evolucione.

4.  **Capa de Persistencia y Datos (Data Layer):**

      * **Base de Datos Principal (PostgreSQL - RDS):** Una base de datos relacional para almacenar los datos estructurados del modelo (Usuarios, Vacantes, Postulaciones, etc.). Se elige por su robustez y soporte para JSON.
      * **Almacenamiento de Documentos (AWS S3):** Un servicio de almacenamiento de objetos, ideal para guardar de forma segura y econ√≥mica los CVs y otros archivos subidos por los candidatos.
      * **Cola de Mensajes (AWS SQS):** El sistema nervioso central de la arquitectura orientada a eventos. Desacopla los servicios. Por ejemplo, cuando se crea una postulaci√≥n, el *Servicio de Postulaciones* publica un evento `POSTULACION_RECIBIDA` en la cola, y los servicios de *Notificaciones* y *Orquestador de IA* lo consumen para actuar en paralelo.
      * **Motor de B√∫squeda y Anal√≠tica (Elasticsearch):** Para potenciar las b√∫squedas complejas de candidatos y alimentar los dashboards de anal√≠tica predictiva.

-----

#### **Diagrama del Sistema**

Este diagrama visualiza c√≥mo interact√∫an los componentes descritos. Muestra el flujo de una petici√≥n desde que un usuario la inicia hasta que es procesada por el backend y la capa de IA.

```mermaid
graph TD
    subgraph "1. Capa de Presentaci√≥n (Clientes)"
        WebApp[("Aplicaci√≥n Web<br/>(Reclutadores/Hiring Managers)")]
        CandidatePortal[("Portal del Candidato<br/>(Mobile-First)")]
        ThirdParty[("Integraciones de Terceros<br/>(HRIS, etc.)")]
    end

    subgraph "2. Capa de L√≥gica de Negocio (Backend)"
        APIGateway(API Gateway)

        subgraph "Microservicios"
            IdentitySvc("Servicio de Identidad")
            JobsSvc("Servicio de Vacantes")
            AppSvc("Servicio de Postulaciones")
            CollabSvc("Servicio de Colaboraci√≥n")
            SearchSvc("Servicio de B√∫squeda")
            NotificationSvc("Servicio de Notificaciones")
        end
    end

    subgraph "3. Capa de Inteligencia Artificial (AI Pipeline As√≠ncrono)"
        AIOrchestrator("Orquestador de IA")
        DocParser("Worker: Procesador de CVs")
        MLInference("Servicio de Inferencia ML")
        TrainingPipeline -- "Despliega modelo actualizado a" --> MLInference
    end

    subgraph "4. Capa de Persistencia y Datos"
        Database[(PostgreSQL<br/>AWS RDS)]
        FileStorage[(Almacenamiento de Archivos<br/>AWS S3)]
        MessageQueue[(Cola de Mensajes<br/>AWS SQS)]
        SearchDB[(Motor de B√∫squeda<br/>Elasticsearch)]
    end

    %% --- Flujo de Peticiones ---
    WebApp --> APIGateway
    CandidatePortal --> APIGateway
    ThirdParty --> APIGateway

    APIGateway --> IdentitySvc
    APIGateway --> JobsSvc
    APIGateway --> AppSvc
    APIGateway --> CollabSvc
    APIGateway -- "Peticiones de b√∫squeda" --> SearchSvc

    %% --- Interacci√≥n con la BD Principal ---
    AppSvc --> Database
    JobsSvc --> Database
    CollabSvc --> Database

    %% --- Publicaci√≥n de Eventos en la Cola de Mensajes ---
    AppSvc -- "Publica Eventos<br/>(Ej: POSTULACION_CREADA)" --> MessageQueue
    JobsSvc -- "Publica Eventos<br/>(Ej: VACANTE_CREADA)" --> MessageQueue
    CollabSvc -- "Publica Eventos<br/>(Ej: FEEDBACK_A√ëADIDO)" --> MessageQueue
    AIOrchestrator -- "Publica Evento<br/>(Ej: ANALISIS_COMPLETO)" --> MessageQueue

    %% --- Consumo de Eventos desde la Cola de Mensajes ---
    MessageQueue -- "Consume Evento POSTULACION_*" --> AIOrchestrator
    MessageQueue -- "Consume Eventos de Notificaci√≥n" --> NotificationSvc
    MessageQueue -- "Consume Evento ANALISIS_COMPLETO" --> AppSvc
    MessageQueue -- "Consume Eventos de Vacantes/Postulaciones" --> SearchSvc

    %% --- Flujo Interno de IA ---
    AIOrchestrator --> DocParser
    DocParser --> FileStorage
    DocParser --> MLInference
    MLInference --> AIOrchestrator

    %% --- Flujo Interno de B√∫squeda ---
    SearchSvc --> SearchDB
```

-----

### **Modelo C4: Sistema LTI ATS**

El modelo C4 (Contexto, Contenedores, Componentes y C√≥digo) nos ayuda a contar la historia de una arquitectura de software. Nos detendremos en el Nivel 3 (Componentes), que es el m√°s profundo necesario para un dise√±o de alto nivel.

-----

### **Nivel 1: Diagrama de Contexto del Sistema**

Este diagrama muestra una vista de "zoom m√°ximo". Tratamos a todo el sistema LTI ATS como una caja negra y mostramos c√≥mo interact√∫a con sus usuarios (actores) y con otros sistemas externos.

  * **Actores:**
      * **Reclutador/Hiring Manager:** El usuario principal que gestiona el ciclo de vida de las vacantes y los candidatos.
      * **Candidato:** La persona que postula a las vacantes y sigue su proceso.
  * **Sistemas Externos:**
      * **Portales de Empleo:** Sistemas externos donde se publican las vacantes (LinkedIn, Indeed, etc.).
      * **Sistema de Email:** Servicio externo para enviar notificaciones.
      * **Sistemas de RRHH (HRIS):** Sistemas corporativos con los que LTI podr√≠a sincronizarse.

<!-- end list -->

```mermaid
C4Context
    title Nivel 1: Diagrama de Contexto para el Sistema LTI ATS

    Person(reclutador, "Reclutador / Hiring Manager", "Gestiona vacantes y colabora en la contrataci√≥n.")
    Person(candidato, "Candidato", "Postula a vacantes y sigue el estado de su proceso.")

    System_Ext(job_boards, "Portales de Empleo", "Plataformas de terceros donde se publican las ofertas.")
    System_Ext(email_system, "Sistema de Email", "Servicio para el env√≠o de notificaciones.")
    System_Ext(hris_system, "Sistemas de RRHH (HRIS)", "Sistemas de informaci√≥n de recursos humanos del cliente.")

    System(lti_ats, "LTI ATS", "Plataforma inteligente para la gesti√≥n del ciclo de reclutamiento.")

    Rel(reclutador, lti_ats, "Usa")
    Rel(candidato, lti_ats, "Usa")

    Rel(lti_ats, email_system, "Env√≠a notificaciones v√≠a", "SMTP API")
    Rel(lti_ats, job_boards, "Publica vacantes v√≠a", "API")
    Rel(lti_ats, hris_system, "Sincroniza datos de empleados contratados v√≠a", "API")
```

-----

### **Nivel 2: Diagrama de Contenedores**

Ahora hacemos "zoom" dentro de la caja del "LTI ATS" para ver sus principales bloques de construcci√≥n. Un "contenedor" es una unidad desplegable, como una aplicaci√≥n web, un microservicio o una base de datos.

  * **Contenedores Clave:**
      * **Aplicaci√≥n Web (SPA):** La interfaz para Reclutadores y Hiring Managers.
      * **API Gateway:** Punto de entrada √∫nico que enruta las peticiones.
      * **Servicio de Gesti√≥n de Vacantes:** El microservicio que nos interesa.
      * **Servicio de Postulaciones:** Gestiona las aplicaciones de los candidatos.
      * **Servicio de IA:** Realiza el an√°lisis de los CVs.
      * **Base de Datos Principal:** Almacena los datos estructurados.
      * **Cola de Mensajes:** Para la comunicaci√≥n as√≠ncrona entre servicios.

<!-- end list -->

```mermaid
C4Container
    title Nivel 2: Diagrama de Contenedores del LTI ATS

    Person(reclutador, "Reclutador / Hiring Manager")

    System_Boundary(c1, "LTI ATS") {
        Container(spa, "Aplicaci√≥n Web (SPA)", "JavaScript, React", "Interfaz principal para usuarios internos.")
        Container(api_gateway, "API Gateway", "Nginx/AWS API Gateway", "Enruta, autentica y protege las APIs.")

        Container(jobs_svc, "Servicio de Gesti√≥n de Vacantes", "Java/Spring Boot", "Gestiona todo el ciclo de vida de las vacantes (CRUD, publicaci√≥n).")
        Container(app_svc, "Servicio de Postulaciones", "Python/FastAPI", "Gestiona las postulaciones de los candidatos.")
        Container(ai_svc, "Servicio de IA", "Python/Flask", "Procesa CVs y calcula el 'Fit Score'.")
        Container(notification_svc, "Servicio de Notificaciones", "Go", "Env√≠a emails y otras alertas.")

        ContainerDb(db, "Base de Datos Principal", "PostgreSQL", "Almacena vacantes, candidatos, postulaciones, etc.")
        ContainerDb(queue, "Cola de Mensajes", "AWS SQS", "Desacopla los servicios para comunicaci√≥n as√≠ncrona.")
    }

    System_Ext(job_boards, "Portales de Empleo")

    Rel(reclutador, spa, "Usa", "HTTPS")
    Rel(spa, api_gateway, "Realiza llamadas API", "HTTPS/JSON")

    Rel(api_gateway, jobs_svc, "Enruta peticiones a", "HTTP")
    Rel(api_gateway, app_svc, "Enruta peticiones a", "HTTP")

    Rel(jobs_svc, db, "Lee y escribe", "JDBC")
    Rel(jobs_svc, queue, "Publica eventos (ej. VACANTE_CREADA)", "AMQP")
    Rel(jobs_svc, job_boards, "Publica vacantes", "HTTPS/API")

    Rel(app_svc, db, "Lee y escribe")
    Rel(app_svc, queue, "Publica eventos (ej. POSTULACION_RECIBIDA)")

    Rel(queue, ai_svc, "Consume eventos")
    Rel(queue, notification_svc, "Consume eventos")
    Rel_Back(db, ai_svc, "Escribe resultados del an√°lisis")
```

-----

### **Nivel 3: Diagrama de Componentes (Enfoque: Gesti√≥n de Vacantes)**

Finalmente, hacemos "zoom" dentro del contenedor **"Servicio de Gesti√≥n de Vacantes"**. Mostramos sus componentes l√≥gicos internos (no son microservicios separados, sino m√≥dulos principales dentro de ese servicio).

  * **Componentes Internos:**
      * **Jobs Controller:** El punto de entrada de las peticiones HTTP.
      * **Job Logic/Service:** Contiene la l√≥gica de negocio principal.
      * **Job Repository:** Encapsula el acceso a la base de datos.
      * **Event Publisher:** Encapsula la publicaci√≥n de mensajes en la cola.
      * **Job Board Client:** Encapsula la comunicaci√≥n con las APIs de los portales de empleo.

<!-- end list -->

```mermaid
C4Component
    title Nivel 3: Diagrama de Componentes para el 'Servicio de Gesti√≥n de Vacantes'

    ContainerDb(db, "Base de Datos Principal", "PostgreSQL", "Almacena los datos de las vacantes.")
    ContainerDb(queue, "Cola de Mensajes", "AWS SQS", "Cola para eventos de dominio.")
    System_Ext(job_boards, "Portales de Empleo", "Sistemas externos para publicaci√≥n.")
    Container(api_gateway, "API Gateway", "Enruta peticiones entrantes.")

    System_Boundary(c1, "Servicio de Gesti√≥n de Vacantes") {
        Component(controller, "Jobs Controller", "Spring RestController", "Expone la API REST para la gesti√≥n de vacantes (CRUD).")
        Component(service, "Job Logic/Service", "Spring Service", "Implementa la l√≥gica de negocio: crear, validar, publicar, cerrar vacantes.")
        Component(repository, "Job Repository", "Spring Data JPA", "Abstrae el acceso a la base de datos para las entidades de vacantes.")
        Component(publisher, "Event Publisher", "AMQP Client", "Publica eventos de dominio (ej. 'VacanteCreada') en la cola de mensajes.")
        Component(client, "Job Board Client", "HTTP Client", "Se comunica con las APIs externas de los portales de empleo.")
    }

    Rel(api_gateway, controller, "Env√≠a peticiones HTTP", "HTTP")
    Rel(controller, service, "Invoca la l√≥gica de negocio")
    Rel(service, repository, "Usa para persistir datos", "JPA")
    Rel(service, publisher, "Usa para publicar eventos")
    Rel(service, client, "Usa para publicar en portales")

    Rel(repository, db, "Lee y escribe en las tablas de vacantes", "SQL/JDBC")
    Rel(publisher, queue, "Env√≠a mensajes a")
    Rel(client, job_boards, "Realiza llamadas API", "HTTPS")
```
